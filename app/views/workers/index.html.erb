<%= render 'partials/menu' %>
<div class="p-4 sm:ml-64 dark:bg-gray-800 min-h-screen">
   <section class="text-gray-600 body-font">
      <div class="container px-5 py-24 mx-auto">
         <div class="flex justify-center items-center mb-20">
            <div class="flex flex-col text-center w-full">
               <h1 class="sm:text-3xl text-2xl font-medium title-font text-gray-900 dark:text-white">Trabajadores</h1>            
            </div>
            <div>
               <%= link_to new_worker_path, class: "flex justify-center items-center gap-2 w-28 h-12 cursor-pointer rounded-md shadow-2xl text-white font-semibold bg-gradient-to-r from-[#14b8a6] via-[#059669] to-[#047857] hover:shadow-xl hover:shadow-green-500 hover:scale-105 duration-300 hover:from-[#047857] hover:to-[#14b8a6]" do %>
                  <svg class="w-5 fill-white" viewBox="0 0 15 15">
                     <svg
                     class="w-6 h-6"
                     stroke="currentColor"
                     stroke-width="1.5"
                     viewBox="0 0 24 24"
                     fill="none"
                     xmlns="http://www.w3.org/2000/svg"
                     >  
                        <path d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linejoin="round" stroke-linecap="round"></path>
                     </svg>
                  </svg>
               <% end %>
            </div>
         </div>
         <% if @workers.present? %>
            <div class="flex flex-wrap -m-4">
               <% @workers.each do |worker| %>
                  <div class="p-4 w-full h-full lg:w-1/2 2xl:w-1/3">
                     <div class="h-full flex sm:flex-row flex-col items-center sm:justify-start justify-center text-center sm:text-left">
                        <% if worker.profile_picture&.attached? %> 
                           <%= image_tag worker.profile_picture, class: "flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4" %>
                        <% else %>
                           <img alt="team" class="flex-shrink-0 rounded-lg w-48 h-48 object-cover object-center sm:mb-0 mb-4" src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png">
                        <% end %>
                        <div class="flex-grow sm:pl-8">
                           <h2 class="title-font font-medium text-lg text-gray-900 dark:text-white"><%= worker.name %></h2>
                           <h3 class="text-gray-500 mb-3 dark:text-gray-600"><%= worker.position %></h3>
                           <p class="mb-4 dark:text-gray-400"><%= worker.address %></p>
                           <p class="mb-4 dark:text-gray-400"><%= worker.telephone %></p>
                           <span class="inline-flex">                              
                              <%= button_to worker_path(worker), method: :delete, class: 'text-red-500 hover:text-red-700',onclick: "return confirm('Â¿EstÃ¡s seguro de que deseas eliminar a este trabajador?');" do %>
                              <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                 <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
                              </svg>
                              <% end %>
                              <%= link_to edit_worker_path(worker), class: "ml-2 text-yellow-500 hover:text-yellow-700" do %>
                                 <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"/>
                                 </svg>
                              <% end %>
                           </span>
                        </div>
                     </div>             
                  </div>
               <% end %>
            </div>
         <% else %>
            <p>No hay trabajadores para mostrar.</p>
         <% end %>
      </div>
   </section>
</div>
